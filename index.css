@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- Custom Styles --- */
.renpy-jump-link {
  color: #4f46e5; /* indigo-600 */
  text-decoration: underline;
  cursor: pointer;
}
.dark .renpy-jump-link {
  color: #818cf8; /* indigo-400 */
}
.renpy-jump-link:hover {
  color: #312e81; /* indigo-900 */
}
.dark .renpy-jump-link:hover {
  color: #c7d2fe; /* indigo-200 */
}
.renpy-jump-invalid {
  color: #ef4444; /* red-500 */
  text-decoration: underline;
  text-decoration-style: wavy;
  cursor: not-allowed;
}
.dark .renpy-jump-invalid {
  color: #f87171; /* red-400 */
}
.renpy-jump-dynamic {
  color: #22c55e; /* green-500 */
  text-decoration: underline;
  text-decoration-style: dotted;
  cursor: help;
}
.dark .renpy-jump-dynamic {
  color: #4ade80; /* green-400 */
}
@keyframes flash-animation {
  0% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(79, 70, 229, 0); }
  100% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0); }
}
.flash-block {
  animation: flash-animation 1.5s ease-out;
}
@keyframes pulse-animation {
  0% { box-shadow: 0 0 0 0px var(--accent-border-hover-pulse); }
  70% { box-shadow: 0 0 0 15px transparent; }
  100% { box-shadow: 0 0 0 0px transparent; }
}
.pulse-block {
  animation: pulse-animation 1.3s infinite;
}
html .heatmap-highlight {
  background-color: rgba(251, 191, 36, 0.2);
}
html.dark .heatmap-highlight {
  background-color: rgba(251, 191, 36, 0.25);
}

/* --- Base Theme Colors (CSS Variables) --- */
:root {
  --bg-primary: #f3f4f6; /* gray-100 */
  --bg-secondary: #ffffff; /* white */
  --bg-tertiary: #e5e7eb; /* gray-200 */
  --bg-tertiary-hover: #d1d5db; /* gray-300 */
  --bg-header: #f9fafb; /* gray-50 */
  --text-primary: #111827; /* gray-900 */
  --text-secondary: #4b5563; /* gray-600 */
  --border-primary: #e5e7eb; /* gray-200 */
  --accent-primary: #4f46e5; /* indigo-600 */
  --accent-primary-hover: #4338ca; /* indigo-700 */
  --accent-text: #6366f1; /* indigo-500 */
  --accent-border: #6366f1; /* indigo-500 */
  --text-on-accent: #ffffff;
  --accent-border-hover-pulse: rgba(56, 189, 248, 0.6); /* sky-400 */
  --dot-color: #d4d4d8; /* gray-300 */
}
.dark {
  --bg-primary: #111827; /* gray-900 */
  --bg-secondary: #1f2937; /* gray-800 */
  --bg-tertiary: #374151; /* gray-700 */
  --bg-tertiary-hover: #4b5563; /* gray-600 */
  --bg-header: #111827; /* gray-900 */
  --text-primary: #f9fafb; /* gray-50 */
  --text-secondary: #9ca3af; /* gray-400 */
  --border-primary: #374151; /* gray-700 */
  --accent-primary: #6366f1; /* indigo-500 */
  --accent-primary-hover: #4f46e5; /* indigo-600 */
  --accent-text: #818cf8; /* indigo-400 */
  --accent-border: #818cf8; /* indigo-400 */
  --text-on-accent: #ffffff;
  --accent-border-hover-pulse: rgba(14, 165, 233, 0.6); /* sky-500 */
  --dot-color: #4b5563; /* gray-600 */
}

/* Solarized Light: A warm, low-contrast theme */
.theme-solarized-light {
  --bg-primary: #fdf6e3;      /* base3 */
  --bg-secondary: #eee8d5;    /* base2 */
  --bg-tertiary: #d8d2c7;
  --bg-tertiary-hover: #c9c2b8;
  --bg-header: #fdf6e3;
  --text-primary: #586e75;    /* base01 */
  --text-secondary: #839496;  /* base0 */
  --border-primary: #93a1a1;  /* base01 */
  --accent-primary: #268bd2;  /* blue */
  --accent-primary-hover: #1e6a9e;
  --accent-text: #cb4b16;     /* orange */
  --accent-border: #268bd2;
  --text-on-accent: #fdf6e3;
  --dot-color: #93a1a1;
}

/* Solarized Dark: A cool, low-contrast theme */
.dark.theme-solarized-dark {
  --bg-primary: #002b36;      /* base03 */
  --bg-secondary: #073642;    /* base02 */
  --bg-tertiary: #586e75;      /* base01 */
  --bg-tertiary-hover: #657b83;/* base00 */
  --bg-header: #002b36;
  --text-primary: #eee8d5;    /* base2 */
  --text-secondary: #93a1a1;  /* base1 */
  --border-primary: #586e75;
  --accent-primary: #2aa198;  /* cyan */
  --accent-primary-hover: #217a75;
  --accent-text: #b58900;     /* yellow */
  --accent-border: #2aa198;
  --text-on-accent: #002b36;
  --dot-color: #586e75;
}

/* Colorful (Dark): A vibrant, high-contrast synthwave theme */
.dark.theme-colorful {
  --bg-primary: #191825;
  --bg-secondary: #242234;
  --bg-tertiary: #302e42;
  --bg-tertiary-hover: #413f57;
  --bg-header: #191825;
  --text-primary: #E0D2FF;
  --text-secondary: #a7a6b1;
  --border-primary: #302e42;
  --accent-primary: #FFA3FD;       /* Bright Pink */
  --accent-primary-hover: #FF77FA;
  --accent-text: #865DFF;          /* Bright Purple */
  --accent-border: #FFA3FD;
  --text-on-accent: #191825;       /* Dark text on bright button */
  --dot-color: #413f57;
}

/* Colorful Light: A vibrant, high-contrast lavender theme */
.theme-colorful-light {
  --bg-primary: #EADFFD;
  --bg-secondary: #FFFFFF;
  --bg-tertiary: #D6C7F7;
  --bg-tertiary-hover: #C3ADF1;
  --bg-header: #F5F0FF;
  --text-primary: #3D2C5E;
  --text-secondary: #6B5B8A;
  --border-primary: #D6C7F7;
  --accent-primary: #865DFF;          /* Bright Purple */
  --accent-primary-hover: #7141F8;
  --accent-text: #C738BD;             /* Magenta */
  --accent-border: #865DFF;
  --text-on-accent: #FFFFFF;
  --dot-color: #C3ADF1;
}

/* Neon Dark: Hacker/Cyberpunk */
.dark.theme-neon-dark {
  --bg-primary: #000000;
  --bg-secondary: #111111;
  --bg-tertiary: #171717;
  --bg-tertiary-hover: #262626;
  --bg-header: #000000;
  --text-primary: #e5e5e5;
  --text-secondary: #a3a3a3;
  --border-primary: #262626;
  --accent-primary: #39ff14; /* Neon Green */
  --accent-primary-hover: #32e612;
  --accent-text: #39ff14;
  --accent-border: #39ff14;
  --text-on-accent: #000000;
  --accent-border-hover-pulse: rgba(57, 255, 20, 0.6);
  --dot-color: #262626;
}

/* Ocean Dark: Deep blue tones */
.dark.theme-ocean-dark {
  --bg-primary: #001e3c; /* Dark Blue */
  --bg-secondary: #0a1929;
  --bg-tertiary: #132f4c;
  --bg-tertiary-hover: #173a5e;
  --bg-header: #001e3c;
  --text-primary: #f0f4f8;
  --text-secondary: #b2bac2;
  --border-primary: #1e4976;
  --accent-primary: #00e5ff; /* Cyan A400 */
  --accent-primary-hover: #00b8cc;
  --accent-text: #00e5ff;
  --accent-border: #00e5ff;
  --text-on-accent: #001e3c;
  --accent-border-hover-pulse: rgba(0, 229, 255, 0.6);
  --dot-color: #132f4c;
}

/* Candy Light: Pink/Rose */
.theme-candy-light {
  --bg-primary: #fff5f8; /* Lavender Blushish */
  --bg-secondary: #ffffff;
  --bg-tertiary: #ffe6f0;
  --bg-tertiary-hover: #ffd1df;
  --bg-header: #fff0f5;
  --text-primary: #880e4f; /* Deep Pink */
  --text-secondary: #ad1457;
  --border-primary: #f8bbd0;
  --accent-primary: #f50057; /* Pink A400 */
  --accent-primary-hover: #c51162;
  --accent-text: #c51162;
  --accent-border: #f50057;
  --text-on-accent: #ffffff;
  --accent-border-hover-pulse: rgba(245, 0, 87, 0.5);
  --dot-color: #f8bbd0;
}

/* Forest Light: Mint/Green */
.theme-forest-light {
  --bg-primary: #f1f8e9; /* Light Green */
  --bg-secondary: #ffffff;
  --bg-tertiary: #dcedc8;
  --bg-tertiary-hover: #c5e1a5;
  --bg-header: #f1f8e9;
  --text-primary: #1b5e20; /* Dark Green */
  --text-secondary: #33691e;
  --border-primary: #aed581;
  --accent-primary: #00c853; /* Green A700 */
  --accent-primary-hover: #009624;
  --accent-text: #00c853;
  --accent-border: #00c853;
  --text-on-accent: #ffffff;
  --accent-border-hover-pulse: rgba(0, 200, 83, 0.5);
  --dot-color: #aed581;
}

/* --- Tailwind Class Overrides --- */
/* These rules apply the CSS variables to existing Tailwind classes by using @apply. */
@layer components {
  .bg-header { background-color: var(--bg-header); }
  .bg-primary { background-color: var(--bg-primary); }
  .bg-secondary { background-color: var(--bg-secondary); }
  .bg-tertiary { background-color: var(--bg-tertiary); }
  .hover\:bg-tertiary-hover:hover { background-color: var(--bg-tertiary-hover); }

  .text-primary { color: var(--text-primary); }
  .text-secondary { color: var(--text-secondary); }
  
  .border-primary { border-color: var(--border-primary); }
  
  .bg-accent { background-color: var(--accent-primary); color: var(--text-on-accent); }
  .hover\:bg-accent-hover:hover { background-color: var(--accent-primary-hover); }
  .text-accent { color: var(--accent-text); }
  .border-accent { border-color: var(--accent-border); }
  .ring-accent { --tw-ring-color: var(--accent-border); }

  .bg-accent-light { background-color: var(--accent-primary); opacity: 0.15; }
  .dark .bg-accent-light { background-color: var(--accent-primary); opacity: 0.2; }
}

/* Special case overrides for themes to adjust feel */
.theme-solarized-light .bg-accent-light { opacity: 0.2; }
.dark.theme-solarized-dark .bg-accent-light { opacity: 0.25; }
.dark.theme-colorful .bg-accent-light { opacity: 0.2; }
.theme-colorful-light .bg-accent-light { background-color: var(--accent-text); opacity: 0.15; }
.dark.theme-neon-dark .bg-accent-light { background-color: var(--accent-text); opacity: 0.1; }

/* Other overrides */
.renpy-jump-link { color: var(--accent-primary); }
#arrowhead { fill: var(--accent-primary) }